{% extends 'base.html' %}
{% load static %}

{% block title %}í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ê²Œì‹œíŒ{% endblock %}

{% block extra_head %}
  <link rel="stylesheet" href="{% static 'css/main.css' %}">
  <link rel="stylesheet" href="{% static 'css/post_list.css' %}">
{% endblock %}

{% block content %}
  <!-- ì¤‘ì•™ ì •ë ¬ì„ ìœ„í•œ ë˜í¼ -->
  <div class="board-wrapper">
    <div class="board-container">

      <!-- ğŸ”½ ìƒë‹¨ ì œëª© + ê¸€ì“°ê¸° ë²„íŠ¼ -->
      <div class="board-header">
        <h1 class="board-title">Shared Playlists</h1>

        {% if user.is_authenticated %}
          <a href="{% url 'post_create' %}" class="btn-write">ê¸€ì“°ê¸°</a>
        {% endif %}
      </div>

      <!-- ê²Œì‹œê¸€ ëª©ë¡ -->
      {% for post in posts %}
        <div class="post-card">
          <!-- âœ… ê¸°ë³¸ ì´ë¯¸ì§€ ì²˜ë¦¬: í•­ìƒ .thumbnail.url ì‚¬ìš© (defaultëŠ” models.pyì—ì„œ ì§€ì •) -->
          {% if post.thumbnail.name == "thumbnails/default.png" %}
            <img src="/media/thumbnails/default.png" alt="ê¸°ë³¸ ì¸ë„¤ì¼" class="thumbnail">
          {% else %}
            <img src="{{ post.thumbnail.url }}" alt="ì¸ë„¤ì¼" class="thumbnail">
          {% endif %}



          <div class="post-info">
            <h2 class="post-title"> <!-- ê²Œì‹œê¸€ ëª©ë¡ì—ì„œ ìƒì„¸ í˜ì´ì§€ë¡œ ë§í¬ ì—°ê²° -->
              <a href="{% url 'post_detail' post.pk %}">{{ post.title }}</a> 
            </h2>
            <p class="post-description">{{ post.description }}</p>
            <p class="post-meta">
              {{ post.user.username }} Â· {{ post.created_at|date:"Yë…„ nì›” jì¼ g:i A" }}
            </p>
          </div>
        </div>
      {% empty %}
        <p class="no-posts">ì•„ì§ ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</p>
      {% endfor %}
    </div>
  </div>
{% endblock %}

{% block extra_script %}
  <script src="{% static 'js/base.js' %}"></script>
{% endblock %}

