{% load static %}

<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>{{ tag }} 감정 기반 추천곡</title>
  <link rel="stylesheet" href="{% static 'CSS/recommendations.css' %}">
  <script defer src="{% static 'JS/recommendations.js' %}"></script>
</head>
<body>

  <div class="container">
    <h1>🎧 "{{ tag }}" 감정을 가진 추천 곡</h1>

    <ul class="song-list">
      {% for song in songs %}
        <li class="song-item">
          <span class="title">{{ song.title }}</span>
          <span class="artist">- {{ song.artist }}</span>
          <span class="tags">
            감정 태그:
            {% if song.emotion_tags %}
              {% for emotion in song.emotion_tags %}
                <span class="tag">{{ emotion }}</span>{% if not forloop.last %},{% endif %}
              {% endfor %}
            {% else %}
              <span class="tag none">없음</span>
            {% endif %}
          </span>
        </li>
      {% empty %}
        <li class="no-result">😢 현재 이 감정을 가진 추천곡이 없습니다.<br>다른 감정을 선택하거나, 새로운 노래를 분석해보세요!</li>
      {% endfor %}
    </ul>

    <div class="back-button">
      <button onclick="window.history.back()" class="button go-back">
        ⬅ 돌아가기
      </button>

      <a href="{% url 'analyze' %}" class="button retry">
        🔁 다른 노래 분석하기
      </a>
    </div>
  </div>

</body>
</html>
