{% extends 'base.html' %}
{% load static %}

{% block title %}TOP ê°ì„± ì¶”ì²œ{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'CSS/recommendations.css' %}">

{% endblock %}

{% block content %}
  <div class="recommendation-wrapper">
    <h1>ğŸ§ "{{ tag }}" ê°ì •ì„ ê°€ì§„ ì¶”ì²œ ê³¡</h1>

    <ul class="song-list">
      {% for song in songs %}
        <li class="song-item">
          <!-- âœ… ì „ì²´ ì¹´ë“œ êµ¬ì¡° ê°ì‹¸ëŠ” ë§í¬ -->
          <a href="{% url 'results_music_info_view' %}?title={{ song.title|urlencode }}&artist={{ song.artist|urlencode }}" class="song-link-wrapper">
            <div class="cover">
              <img src="{{ song.album_cover_url }}" alt="ì•¨ë²” ì»¤ë²„">
            </div>
            <div class="info">
              <div class="title">{{ song.title }}</div>
              <div class="artist"> - {{ song.artist }}</div>
              <div class="tags">
                ê°ì • íƒœê·¸ :
                {% if song.emotion_tags %}
                  {% for emotion in song.emotion_tags %}
                    <span class="tag">{{ emotion }}</span>
                  {% endfor %}
                {% else %}
                  <span class="tag none">ì—†ìŒ</span>
                {% endif %}
              </div>
            </div>
          </a>
        </li>
      {% empty %}
        <li class="no-result">
          ğŸ˜¢ í˜„ì¬ ì´ ê°ì •ì„ ê°€ì§„ ì¶”ì²œê³¡ì´ ì—†ìŠµë‹ˆë‹¤.<br>
          ë‹¤ë¥¸ ê°ì •ì„ ì„ íƒí•˜ê±°ë‚˜, ìƒˆë¡œìš´ ë…¸ë˜ë¥¼ ë¶„ì„í•´ë³´ì„¸ìš”!
        </li>
      {% endfor %}
    </ul>

    <div class="button-group">
      <button onclick="window.history.back()" class="button go-back">â¬… ëŒì•„ê°€ê¸°</button>
      <a href="{% url 'analyze' %}" class="button retry">ğŸ” ë‹¤ë¥¸ ë…¸ë˜ ë¶„ì„í•˜ê¸°</a>
    </div>
  </div>
{% endblock %}

{% block extra_script %}
<script src="{% static 'js/base.js' %}"></script>
<script defer src="{% static 'JS/recommendations.js' %}"></script>
{% endblock %}
