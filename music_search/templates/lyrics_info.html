{% extends 'base.html' %}
{% load static %}

{% block title %}ê°€ì‚¬ìƒì„± í˜ì´ì§€{% endblock %}

{% block extra_head %}
<link rel="stylesheet" href="{% static 'css/search.css' %}">

{% endblock %}

{% block content %}
<!-- ğŸ”„ ë¡œë”© ì˜¤ë²„ë ˆì´ -->
<!-- <div id="loadingOverlay" style="
  position: fixed;
  top: 0; left: 0;
  width: 100vw; height: 100vh;
  background-color: black;
  color: white;
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2rem;
">
  <i class="xi-spinner-2 xi-spin"></i>Now Loading...
</div> -->

<div class="info-container">
  <div class="search-bar">
    <div class="input-wrapper">
      <input type="text" id="searchInput" placeholder="youtubeë¡œ ê²€ìƒ‰í•˜ê¸°"
        onkeypress="if(event.key==='Enter'){redirectSearch();}" autocomplete="off">
      <button id="micBtn"><i class="fas fa-microphone"></i></button>
      <button id="stopBtn" style="display: none;"><i class="fas fa-stop"></i></button>
      <div id="suggestions"></div>
    </div>
    <button class="search-btn" onclick="searchMusic()"><i class="fa-brands fa-youtube"></i></button>
  </div>
  <div class="info-box">
    <!-- ì™¼ìª½ ê°€ì‚¬ ì˜ì—­ -->
    <div id="infoSection">
      <div class="video-wrapper">
        <iframe id="youtubePlayer" allowfullscreen></iframe>
      </div>

      <div class="album-info">
        <div class="album-cover">
          <img id="albumCover" src="" alt="ì•¨ë²” ì»¤ë²„">
        </div>
        <div class="song-info">
          <div class="info-title">
            <span></span>
            <h2><i class="fa-duotone fa-solid fa-record-vinyl fa-lg"></i> ê³¡ ì •ë³´ </h2>
            <button id="favoriteBtn">ğŸ¤</button>
          </div>
          <div id="infoContent">ì •ë³´ ë¡œë”© ì¤‘...</div>
        </div>
      </div>
    </div>

    <!-- ì˜¤ë¥¸ìª½ ì •ë³´ ì˜ì—­ -->
    <div id="lyricsSection">
      <h2><span class="material-symbols-outlined">lyrics</span> ê°€ì‚¬</h2>
      <div class="translation-buttons">
        <button onclick="translateLyrics('ko')">í•œêµ­ì–´</button>
        <button onclick="translateLyrics('en')">ì˜ì–´</button>
        <button onclick="translateLyrics('ja')">ì¼ë³¸ì–´</button>
        <button onclick="translateLyrics('zh')">ì¤‘êµ­ì–´</button>
      </div>
      <div id="lyricsContent">ê°€ì‚¬ ë¡œë”© ì¤‘...</div>
    </div>
  </div>
</div>

{% endblock %}

{% block extra_script %}
<script src="{% static 'js/base.js' %}"></script>
<!-- <script src="{% static 'js/search.js' %}"></script> -->
<script src="{% static 'js/lyrics_info.js' %}"></script>
<script>const API_KEY = "{{ youtube_api_key }}";</script>


{% endblock %}